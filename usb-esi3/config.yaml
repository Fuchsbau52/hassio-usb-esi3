name: USB-ESI3 zu MQTT
version: "1.0.0"
slug: usb-esi3
description: Liest USB-ESI3 Energiemessdaten und publiziert sie via MQTT zu Home Assistant
arch:
  - aarch64
  - amd64
  - armv7
  - armhf
init: false
startup: application
boot: auto
hassio_api: true
hassio_role: default

options:
  serial_port: "/dev/ttyUSB0"
  baudrate: 115200
  mqtt_host: "core-mosquitto"
  mqtt_port: 1883
  mqtt_user: ""
  mqtt_pass: ""
  device_name: "USB-ESI3"
  base_topic: "sensors/usb-esi3"
  log_level: "info"

schema:
  serial_port: str
  baudrate: int
  mqtt_host: str
  mqtt_port: int
  mqtt_user: str
  mqtt_pass: password
  device_name: str
  base_topic: str
  log_level: list(debug|info|warning|error)

ports: {}

# USB Gerät Zugriff
devices:
  - /dev/ttyUSB0
  - /dev/ttyUSB1
  - /dev/ttyUSB2
  - /dev/ttyACM0

# Kernel Module falls nötig
#modules:
#  - ftdi_sio

# Logging nach stdout/stderr
stdout: true

image: ghcr.io/{arch}-addon-usb-esi3
