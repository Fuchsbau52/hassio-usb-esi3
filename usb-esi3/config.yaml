name: USB-ESI3 zu MQTT
version: "1.4.0"
slug: usb-esi3
description: Liest USB-ESI3 Energiemessdaten und publiziert sie via MQTT zu Home Assistant
url: https://github.com/Fuchsbau52/hassio-usb-esi3
arch:
  - aarch64
  - amd64
  - armv7
  - armhf
init: false
startup: application
boot: auto
hassio_api: true
hassio_role: default

options:
  serial_port: "/dev/ttyUSB0"
  baudrate: 115200
  mqtt_host: "core-mosquitto"
  mqtt_port: 1883
  mqtt_user: ""
  mqtt_pass: ""
  device_name: "USB-ESI3"
  base_topic: "sensors/usb-esi3"
  log_level: "info"
  # Offsets pro Kanal (0 = kein Offset)
  channel_1_import_offset: 0.0
  channel_1_export_offset: 0.0
  channel_2_import_offset: 0.0
  channel_3_import_offset: 0.0
  channel_3_export_offset: 0.0

schema:
  serial_port: str
  baudrate: int
  mqtt_host: str
  mqtt_port: int
  mqtt_user: str
  mqtt_pass: password
  device_name: str
  base_topic: str
  log_level: list(debug|info|warning|error)
  channel_1_import_offset: float
  channel_1_export_offset: float
  channel_2_import_offset: float
  channel_3_import_offset: float
  channel_3_export_offset: float

# USB Ger√§t Zugriff
devices:
  - /dev/ttyUSB0
  - /dev/ttyUSB1
  - /dev/ttyUSB2
  - /dev/ttyACM0
  - /dev/serial/by-id

# Logging
map:
  - type: addon_config
    read_only: false
